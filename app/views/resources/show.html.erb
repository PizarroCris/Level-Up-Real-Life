<div class="header-card d-flex justify-content-center">
  <p class="card-border mt-5"><strong><%= @resource.kind.titleize %></strong> <em>(Level <%= @resource.level %>)</em></p>
</div>

<div class="container">
  <div class="card card-box mt-5 rounded-5">
    <div class="container-close">
      <%= link_to "<i class='fa-solid fa-square-xmark'></i>".html_safe, user_base_path, class: "close-btn" %>
    </div>
    <div class="resource-preview">
      <div class="image-and-button-wrapper">
        <%= image_tag @resource.image_asset_path, 
                      class: "resource-image", 
                      alt: "#{@resource.building.building_type.titleize} Level #{@resource.level}" %>
        <% if @resource.level < Building::MAX_LEVEL%>
          <div class="upgrade-button-overlay">
            <%= button_to "<i class='fa-solid fa-circle-up'></i> Upgrade".html_safe, 
                          upgrade_building_path(@resource.building), 
                          method: :patch, 
                          class: "btn btn-red btn-sm" %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="resource-stats-table">
      <table class="table table-striped table-hover">
        <thead>
          <tr class="table-color">
            <th>Level</th>
            <th>Production / Hour</th>
            <th>Storage</th>
          </tr>
        </thead>
        <tbody>
          <% @resource.levels_list.each do |lvl| %>
            <tr class="<%= 'table-info' if lvl == @resource.level %>">
              <td><%= lvl %></td>
              <td><%= Resource::PRODUCTION_BY_LEVEL[lvl] %></td>
              <td><%= Resource::STORAGE_BY_LEVEL[lvl] %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    
  </div>
</div>
